<!DOCTYPE html>
<html>
	<head>
		<!-- dry.index.head -->
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<title>Andrei Draganescu</title>	
		
		<link rel="stylesheet" href="css/reset.css" type="text/css" media="all" title="style" />
		<link rel="stylesheet" href="css/layout.css" type="text/css" media="all" title="style" />
		<link rel="stylesheet" href="css/typography.css" type="text/css" media="all" title="style" />
		<link rel="stylesheet" href="css/decorations.css" type="text/css" media="all" title="style" />
		<!--[if lt IE 8]>
			<link rel="stylesheet" href="css/ie67.css" type="text/css" media="all" title="style" />
		<![endif]-->
		<!-- /dry.index.head -->
	</head>
	<body class="blog_html">
		<!-- dry.index.header -->
		<div id="header">
			<a href="index.html?su=" class="name_h"><h1 id="name">Andrei Draganescu</h1></a>

			<h2 id="slogan">visionary and skillful <br/> information architect and developer </h2>

			<a id="contact" href="mailto:andrei@mindware.ro">andrei@mindware.ro</a>
		</div>
		<!-- /dry.index.header -->
		
		<!-- render.cms.the_page -->
		<div id="post">
			<h2 class="post_t"><!-- print.title -->Migrations for CodeIgniter<!-- /print.title --></h2>
			
			<!-- print.body -->
			<p>The easy and pretty Code Igniter Migrations Library. Well maybe the name is overdone a bit considering this is a rather simplistic approach, but somehow i have a strong feeling that a lot of people will find this to be an advantage (yes the overdone name, not the library itself).</p>
			<p>Installing the library is nothing special:</p>
			<ol>
				<li><a href="http://mindware.ro/Migrations.php.zip">Download</a> and move the library into /application/libraries</li>
				<li>Create a config file named schemata.php in /application/config and define an array named $config['schemata'] using DBForge style declarations from <a href="http://codeigniter.com/user_guide/database/forge.html">here</a>.</li>
				<li>Add this code to your <span style="text-decoration:line-through;">main config.php</span> schemata.php file:<br>
				<code>$config['enable_migrations']	= true;</code></li>
				<li><span style="color:#ff6600;">That’s it, but remember if you already HAVE a database set then describe it first in the schemata file because otherwise all the tables will be deleted.</span></li>
			</ol>
			<p>Thats about all. Now, everytime you need to change something in your database just edit the schemata config file and visit your site. The database will be updated automatically.</p>
		
			<p>History of versions can be easily kept by commenting stuff. There are some particular settings to be remembered for the schemata config file:</p>
			<p><code>'key' =&gt; 1</code><br>
			sets the current field as key</p>
			<p><code>'oldname' =&gt; 'old_name'</code><br>
			sets the name of the modified column in case you alter the name.</p>
			<p><code>'id' =&gt; ''</code><br>
			a column named id with no properties will be an auto increment primary key according to DB Forge defaults.</p>
			<p>Fixtures are sample data items inserted into the database at development time in order to have something to work with. The exquisitely simple migrations lib provided hereby, now offers fixtures as an <strong>optional</strong> configuration file.<br>
			A sample code for this configuration file:<br>
			<code><br>
			$config['enable_fixtures'] = true;<br>
			$config['fixtures'] = array<br>
			(<br>
				"tablename_table" =&gt; array<br>
				(<br>
					array("fieldname1"=&gt;"fieldvalue", "fieldname2"=&gt;"fieldvalue") // one record per array<br>
				)<br>
			);<br>
			</code></p>
			<!-- /print.body -->
		</div>
		<!-- /render.cms.the_page -->
		
		<!-- dry.blog.about -->
		<div id="about">
			<h3 class="about_t">About</h3>

			<p class="about_p">Hello, you found a mindware provider. <br/> Count on me to provide key insight on your projects or simply turn the tide when it all seems lost. <a href="cv.html">read my CV</a></p>
		</div>
		<!-- /dry.blog.about -->
		
		<!-- dry.index.posts -->
		<div id="recent_posts">
			<h3 class="blog_t">Things i've learned</h3>

			<ul id="blog_l">
				<!-- render.blog.recent_posts -->
				<li class="blog_i"><a href="blog.html?su=posts/<!-- print.post_id >1<!-- /print.post_id -->" class="blog_h">Squeezing the social out of Wordpress</a></li>
				<!-- /render.blog.recent_posts -->
				<!-- remove -->
				<li class="blog_i"><a href="blog.html" class="blog_h">Securing tedybears</a></li>
				<li class="blog_i"><a href="blog.html" class="blog_h">Lessons from good ol’ Ford</a></li>
				<!-- /remove -->
			</ul>

			<a id="blog" href="archive.html">more open source experiences</a>
		</div>
		<!-- /dry.index.posts -->
		
		<!-- dry.index.work -->
		<div id="recent_work">
			<h3 class="recent_work_t">Recent work</h3>

			<ul class="recent_work_l">
				<li class="recent_work_i"><a href="http://ryderwear.com.au" class="recent_work_h">http://ryderwear.com.au</a></li>
				<li class="recent_work_i"><a href="http://seotech.com.au" class="recent_work_h">http://seotech.com.au</a></li>
			</ul>
			<a id="work" href="work.html">see all work</a>
		</div>
		<!-- /dry.index.work -->
		
		<!-- dry.index.ideas -->
		<div id="ideas">
			<h3 class="ideas_t">Ideas and projects</h3>

			<ul id="ideas_l">
				
				<!-- render.cms.the_ideas -->
				<li class="ideas_i"><a href="spaghetti.html?su=projects/<!-- print.id -->id<!-- /print.id -->" class="ideas_h"><!-- print.title -->Spaghetti PHP<!-- /print.title --></a></li>
				<!-- /render.cms.the_ideas -->
				<!-- remove -->
				<li class="ideas_i"><a href="migrations.html" class="ideas_h">Code Igniter migrations library</a></li>
				<li class="ideas_i"><a href="render.html" class="ideas_h">Code Igniter render helper</a></li>
				<li class="ideas_i"><a href="whereami.html" class="ideas_h">Code Igniter WhereAmI helper</a></li>
				<li class="ideas_i"><a href="clickframes.html" class="ideas_h">Clickframes Textmate bundle</a></li>
				<!-- /remove -->
			</ul>
		</div>
		<!-- /dry.index.ideas -->
		
		<!-- dry.index.tools -->
		<div id="tools">
			<h3 class="tools_t">I work with</h3>

			<ul id="tools_l">
				<li class="tools_i"><a href="http://keynotekungfu.com/" class="tools_h">Keynote</a>, <a href="http://clickframes.org/" class="tools_h">Clickframes</a></li>
				<li class="tools_i">PHP, <a href="http://www.codeigniter.com" >CodeIgniter</a>/<a href="spaghetti.html" class="tools_h">Spaghetti</a></li>
				<li class="tools_i">Javascript, <a href="http://jquery.org">jQuery</a>/<a href="http://yahoo.com/yui">YUI</a></li>
				<li class="tools_i">html/CSS, <a href="http://mondaybynoon.com/2007/08/27/please-do-not-use-css-frameworks/">no framework</a></li>
				<li class="tools_i"><a href="http://www.magentocommerce.com" class="tools_h">Magento ecommerce platform</a></li>
				<li class="tools_i"><a href="http://www.wordpress.org" class="tools_h">Wordpress</a>, <a href="http://www.modxcms.com" class="tools_h">ModX</a>, <a href="http://www.joomla.org" class="tools_h">Joomla</a></li>
			</ul>
		</div>
		<!-- /dry.index.tools -->
		
		<!-- dry.index.contact_form -->
		<form action="contact.html?su=pages/thanks" id="contact_form">
			<fieldset id="contact_me">
				<legend>Where do you need the elite?</legend>
				<label class="email_label" for="email">Your email</label>
				<input type="text" id="email" name="email" />

				<label class="message_label" for="message">Your message</label>
				<textarea name="message" id="message"></textarea>
			</fieldset>
			<input type="submit" id="send" name="send" value="Send" />
		</form>
		<!-- /dry.index.contact_form -->
		
	</body>
</html>
















